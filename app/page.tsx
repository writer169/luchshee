"use client"; // –î–æ–±–∞–≤–ª—è–µ–º –¥–∏—Ä–µ–∫—Ç–∏–≤—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

import { useState } from 'react';

export default function Home() {
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const [attempts, setAttempts] = useState(0);

  // –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤–∞–ª–∏–¥–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã)
  const validatePassword = (pwd: string) => {
    if (pwd.length < 8) {
      return '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π! –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤.';
    }
    if (!/\d/.test(pwd)) {
      return '–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ü–∏—Ñ—Ä! –î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É.';
    }
    if (!/[A-Z]/.test(pwd)) {
      return '–ù–µ—Ç –∑–∞–≥–ª–∞–≤–Ω—ã—Ö –±—É–∫–≤! –ö–∞–∫ –∂–µ –±–µ–∑ –Ω–∏—Ö?';
    }
    if (!/[!@#$%^&*(),.?":{}|<>]/.test(pwd)) {
      return '–°–ª–∏—à–∫–æ–º –º–∞–ª–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤! @#$% ‚Äî –≤–∞—à–∏ –¥—Ä—É–∑—å—è.';
    }
    return null; // –í—Å–µ –æ–∫, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∞–±—Å—É—Ä–¥—É
  };

  // –ê–±—Å—É—Ä–¥–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö)
  const absurdReasons = [
    '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á—Ç–æ-—Ç–æ –ø–æ—Å–ª–æ–∂–Ω–µ–µ.',
    '–≠—Ç–æ—Ç –ø–∞—Ä–æ–ª—å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è... –∫–µ–º-—Ç–æ –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π.',
    '–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç —ç–º–æ–¥–∑–∏! –î–æ–±–∞–≤—å—Ç–µ üòé –¥–ª—è –∫—Ä—É—Ç–æ—Å—Ç–∏.',
    '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π. –ò–ò —É–≥–∞–¥–∞–ª –µ–≥–æ –∑–∞ 0.1 —Å–µ–∫—É–Ω–¥—ã.',
    '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≥–ª–∞—Å–Ω—ã—Ö! –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ —Å —Å–æ–≥–ª–∞—Å–Ω—ã–º–∏.',
    '–ü–∞—Ä–æ–ª—å –Ω–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –º–æ—Ç–∏–≤–∞—Ü–∏—é!',
    '–≠—Ç–æ –Ω–µ –ø–∞—Ä–æ–ª—å, —ç—Ç–æ —à—É—Ç–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ—Ä—å—ë–∑–Ω–æ.',
    '–ü–∞—Ä–æ–ª—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç: –æ–Ω –Ω–µ –ª—é–±–∏—Ç –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∏.',
    '–°–ª–∏—à–∫–æ–º –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π! –ù–∞–º –Ω—É–∂–Ω—ã —Å–∫—É—á–Ω—ã–µ –ø–∞—Ä–æ–ª–∏.',
    '–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–æ—Ñ–µ–∏–Ω–∞. –ü–∞—Ä–æ–ª—å –≤—ã–≥–ª—è–¥–∏—Ç —É—Å—Ç–∞–≤—à–∏–º.',
    '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! ...–®—É—á—É, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.',
    '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–π. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä—É—Å—Ç–∏.',
    '–û–Ω –Ω–µ —Ä–∏—Ñ–º—É–µ—Ç—Å—è —Å "—Å–∞–º–æ–µ –ø–æ–ª–µ–∑–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ".',
    '–ü–∞—Ä–æ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –∞–ª–ª–µ—Ä–≥–∏—é —É —Å–µ—Ä–≤–µ—Ä–∞.',
    '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–∞–≥–∏–∏. –ù–∞–º –Ω—É–∂–Ω–∞ –Ω–∞—É–∫–∞.',
    '–ü–∞—Ä–æ–ª—å –Ω–µ –≤–µ—Ä–∏—Ç –≤ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—é. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π.'
  ];

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    setAttempts(attempts + 1);

    const validationError = validatePassword(password);
    if (validationError) {
      setError(validationError);
    } else {
      // –ê–±—Å—É—Ä–¥–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: —Ä–∞–Ω–¥–æ–º–Ω–∞—è –∏–ª–∏ –ø–æ attempts –¥–ª—è —ç—Å–∫–∞–ª–∞—Ü–∏–∏
      const reasonIndex = Math.min(attempts % absurdReasons.length, absurdReasons.length - 1);
      setError(absurdReasons[reasonIndex]);
    }
  };

  return (
    <div style={{ textAlign: 'center', padding: '50px' }}>
      <h1>–°–∞–º–æ–µ –ø–æ–ª–µ–∑–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –º–∏—Ä–µ!</h1>
      <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –∏ –æ—Ç–∫—Ä–æ–π –¥–ª—è —Å–µ–±—è... –Ω–∏—á–µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ. –ù–æ –ø–æ–ø—Ä–æ–±—É–π!</p>
      
      <form onSubmit={handleSubmit}>
        <div style={{ margin: '20px' }}>
          <label>–õ–æ–≥–∏–Ω (email –∏–ª–∏ username):</label><br />
          <input
            type="text"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
            style={{ padding: '10px', width: '300px' }}
          />
        </div>
        <div style={{ margin: '20px' }}>
          <label>–ü–∞—Ä–æ–ª—å:</label><br />
          <input
            type="password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            style={{ padding: '10px', width: '300px' }}
          />
        </div>
        {error && <p style={{ color: 'red' }}>{error}</p>}
        <button type="submit" style={{ padding: '10px 20px', fontSize: '16px' }}>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </form>
      
      {attempts > 5 && <p>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ú–æ–∂–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π "P@ssw0rd123"? (–®—É—á—É, –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.)</p>}
      {attempts > 10 && <p>–¢—ã —É–ø–æ—Ä–Ω—ã–π! –ù–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–æ—Ä–Ω–µ–µ. üòà</p>}
      <p>–ü–æ–ø—ã—Ç–æ–∫: {attempts}</p>
    </div>
  );
}